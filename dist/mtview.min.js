!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define("mtview",["vue"],t):"object"==typeof exports?exports.mtview=t(require("vue")):e.mtview=t(e.Vue)}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t){e.exports=function(e,t,n,i,o,s){var r,a=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(r=e,a=e.default);var l="function"==typeof a?a.options:a;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o);var c;if(s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=i),c){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=c,l.render=function(e,t){return c.call(t),d(e,t)}):l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:r,exports:a,options:l}}},function(e,t,n){"use strict";(function(t){function i(e){return e&&e.__esModule?e:{default:e}}var o=n(3),s=i(o),r=n(9),a=i(r),u={version:t.env.VERSION,"mt-select":s.default,"mt-affix":a.default},l=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(u).forEach(function(t){e.component(t,u[t])})};"undefined"!=typeof window&&window.Vue&&l(window.Vue);var c={version:t.env.VERSION,install:l,Select:s.default,Affix:a.default};e.exports.default=e.exports=c}).call(t,n(2))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function r(){m&&h&&(m=!1,h.length?p=h.concat(p):v=-1,p.length&&a())}function a(){if(!m){var e=o(r);m=!0;for(var t=p.length;t;){for(h=p,p=[];++v<t;)h&&h[v].run();v=-1,t=p.length}h=null,m=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var h,p=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n.n(i),s=n(8),r=n(0),a=r(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),r=i(s),a=n(7),u=i(a);t.default={name:"mt-select",directives:{clickoutside:r.default,TransferDom:u.default},data:function(){return{optionList:[],selectValue:void 0,selectOptionLabel:"",focusIndex:-1,showList:!1,readonly:!0}},mounted:function(){document.addEventListener("keydown",this.handleKeydown),this.readonly=!(this.filters.length>0),this.setOptions(this.options)},props:{value:{type:[String,Number],default:""},options:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},optionKey:{type:String,default:"id"},optionLabel:{type:String,default:"name"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onChange:Function,onClear:Function},computed:{wrapClasses:function(){var e;return["mt-select",(e={},o(e,"mt-select-visible",this.showList),o(e,"mt-select-show-clear",this.showClear),o(e,"mt-select-loading",this.loading),e)]},showClear:function(){return this.selectValue&&!this.disabled},inputClasses:function(){return"mt-input"},listClasses:function(){return"mt-select_list"},itemClasses:function(){return"mt-select_item"},selectionCls:function(){return"mt-select-selection"}},beforeDestroy:function(){document.removeEventListener("keydown",this.handleKeydown)},watch:{options:function(e,t){this.setOptions(e)},value:function(e,t){this.checkItem(e),this.$emit("on-change",e)},selectValue:function(e,t){this.$emit("input",e?e+"":"")}},methods:{hideList:function(){this.showList&&this.checkItem(this.value),this.showList=!1,this.focusIndex=-1},handleKeydown:function(e){if(this.showList){var t=e.keyCode;if(27===t&&(e.preventDefault(),this.hideList()),40===t&&(e.preventDefault(),this.navigateOptions("next")),38===t&&(e.preventDefault(),this.navigateOptions("prev")),13===t){e.preventDefault();var n=this.optionList[this.focusIndex];n&&(this.checkItem(n[this.optionKey]),this.showList=!1)}}},navigateOptions:function(e){if("next"===e){var t=this.focusIndex+1;this.focusIndex=this.focusIndex===this.optionList.length-1?0:t}else if("prev"===e){var n=this.focusIndex-1;this.focusIndex=this.focusIndex<=0?this.optionList.length-1:n}},toggleList:function(e){this.showList=!this.showList,this.showList&&!this.readonly?(e.target.select(),this.filterByKeyword("")):this.checkItem(this.value)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.optionList=e,this.checkItem(this.value)},handleCheck:function(e,t){this.checkItem(e),this.showList=!1,t.stopPropagation()},checkItem:function(e){e||(this.selectValue=e,this.selectOptionLabel="");for(var t=0;t<this.options.length;t++)if(this.options[t][this.optionKey]==e){this.selectValue=this.options[t][this.optionKey],this.selectOptionLabel=this.options[t][this.optionLabel];break}},handleInput:function(){this.filterByKeyword(this.selectOptionLabel)},filterByKeyword:function(e){var t=this;this.showList=!0,this.filters.length>0&&(this.optionList=this.options.filter(function(n){return t.containsKeyword(n,e)}))},containsKeyword:function(e,t){return this.filters.some(function(n){return e[n]&&e[n].toUpperCase().indexOf(t.toUpperCase())>-1})},clearCheck:function(){this.selectValue=void 0,this.selectOptionLabel="",this.showList=!1,this.$emit("on-clear")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bind:function(e,t,n){function i(n){if(e.contains(n.target))return!1;t.expression&&t.value(n)}e.__vueClickOutside__=i,document.addEventListener("click",i)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}}},function(e,t,n){"use strict";function i(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0});var o={inserted:function(e,t,n){var o=t.value;if("true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";var s=e.parentNode;if(s){var r=document.createComment(""),a=!1;!1!==o&&(s.replaceChild(r,e),i(o).appendChild(e),a=!0),e.__transferDomData||(e.__transferDomData={parentNode:s,home:r,target:i(o),hasMovedOut:a})}},componentUpdated:function(e,t){var n=t.value;if("true"!==e.dataset.transfer)return!1;var o=e.__transferDomData;if(o){var s=o.parentNode,r=o.home,a=o.hasMovedOut;!a&&n?(s.replaceChild(r,e),i(n).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:i(n)})):a&&!1===n?(s.replaceChild(e,r),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:i(n)})):n&&i(n).appendChild(e)}},unbind:function(e){if("true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};t.default=o},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hideList,expression:"hideList"}],class:e.wrapClasses},[n("div",{class:e.selectionCls},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"mt-icon iconfont icon-loading-m"}),e._v(" "),n("i",{staticClass:"mt-icon iconfont icon-sanjiaozhaoxia"}),e._v(" "),n("i",{staticClass:"mt-icon iconfont icon-yuyueshibai",on:{click:e.clearCheck}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectOptionLabel,expression:"selectOptionLabel"}],class:e.inputClasses,attrs:{type:"text",readonly:e.readonly,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.selectOptionLabel},on:{input:[function(t){t.target.composing||(e.selectOptionLabel=t.target.value)},e.handleInput],click:e.toggleList}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"},{name:"transfer-dom",rawName:"v-transfer-dom"}],class:e.listClasses},e._l(e.optionList,function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],key:t[e.optionKey],class:[e.itemClasses,{on:e.selectValue==t[e.optionKey]},{focus:e.focusIndex===i&&e.selectValue!=t[e.optionKey]}],on:{click:function(n){e.handleCheck(t[e.optionKey],n)}}},[e._v(e._s(t[e.optionLabel])+"\n    ")])}))])},o=[],s={render:i,staticRenderFns:o};t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n.n(i),s=n(14),r=n(0),a=r(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=t?"pageYOffset":"pageXOffset",i=t?"scrollTop":"scrollLeft",o=e[n];return"number"!=typeof o&&(o=window.document.documentElement[i]),o}function s(e){var t=e.getBoundingClientRect(),n=o(window,!0),i=o(window),s=window.document.body,r=s.clientTop||0,a=s.clientLeft||0;return{top:t.top+n-r,left:t.left+i-a}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.default={name:"mt-affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number}},data:function(){return{affix:!1,styles:{}}},computed:{offsetType:function(){var e="top";return this.offsetBottom>=0&&(e="bottom"),e},classes:function(){return[i({},"mt-affix",this.affix)]}},mounted:function(){(0,r.on)(window,"scroll",this.handleScroll),(0,r.on)(window,"resize",this.handleScroll),this.handleScroll()},beforeDestroy:function(){(0,r.off)(window,"scroll",this.handleScroll),(0,r.off)(window,"resize",this.handleScroll)},methods:{handleScroll:function(){var e=this.affix,t=o(window,!0),n=s(this.$el),i=window.innerHeight,r=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.offsetTop<t&&"top"==this.offsetType&&!e?(this.affix=!0,this.styles={top:this.offsetTop+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("on-change",!0)):n.top-this.offsetTop>t&&"top"==this.offsetType&&e&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1)),n.top+this.offsetBottom+r>t+i&&"bottom"==this.offsetType&&!e?(this.affix=!0,this.styles={bottom:this.offsetBottom+"px",left:n.left+"px",width:this.$el.offsetWidth+"px"},this.$emit("on-change",!0)):n.top+this.offsetBottom+r<t+i&&"bottom"==this.offsetType&&e&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.off=t.on=void 0;var i=n(13),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.prototype.$isServer;t.on=function(){return!s&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),t.off=function(){return!s&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}()},function(t,n){t.exports=e},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.classes,style:e.styles},[e._t("default")],2)])},o=[],s={render:i,staticRenderFns:o};t.a=s}])});